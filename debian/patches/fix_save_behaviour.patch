Index: git/src/tools/Preferences.cs
===================================================================
--- git.orig/src/tools/Preferences.cs	2020-04-04 22:06:53.411598869 +0200
+++ git/src/tools/Preferences.cs	2020-04-04 22:07:13.071528509 +0200
@@ -127,11 +127,10 @@
 	///</summary>
 	public void Save(string path)
 	{
-		using (XmlTextWriter xml = new XmlTextWriter(path, null)) {
-			xml.Formatting = Formatting.Indented;
-			xml.Indentation = 1;
-			xml.IndentChar = '\t';
-
+		XmlWriterSettings settings = new XmlWriterSettings();
+		settings.Indent = true;
+		settings.IndentChars = ("\t");
+		using (XmlWriter xml = XmlWriter.Create(path, settings)) {
 			xml.WriteStartDocument();
 			xml.WriteStartElement(null, "preferences", null);
 
Index: git/src/tools/Session.cs
===================================================================
--- git.orig/src/tools/Session.cs	2020-04-04 22:06:53.411598869 +0200
+++ git/src/tools/Session.cs	2020-04-04 22:06:53.411598869 +0200
@@ -72,10 +72,10 @@
 
 	public void Save(string path)
 	{
-                using (XmlTextWriter xml = new XmlTextWriter(path, null)) {
-                        xml.Formatting = Formatting.Indented;
-                        xml.Indentation = 1;
-                        xml.IndentChar = '\t';
+		XmlWriterSettings settings = new XmlWriterSettings();
+		settings.Indent = true;
+		settings.IndentChars = ("\t");
+                using (XmlWriter xml = XmlWriter.Create(path, settings)) {
 
                         xml.WriteStartDocument();
 
